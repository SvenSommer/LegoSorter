CREATE TABLE IF NOT EXISTS `Collections` (
	`id` INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	`name` VARCHAR(300) DEFAULT NULL,
	`weight_kg` DECIMAL(18) unsigned DEFAULT NULL,
	`origin` VARCHAR(300) DEFAULT NULL,
	`origin_url` VARCHAR(300) DEFAULT NULL,
	`seller` VARCHAR(300) DEFAULT NULL,
	`description` VARCHAR(1000) DEFAULT NULL,
	`purchase_date` DATE DEFAULT NULL,
	`cost` DECIMAL(18) unsigned DEFAULT NULL,
	`porto` DECIMAL(18) unsigned DEFAULT NULL,
	`thumbnail_url` VARCHAR(500) DEFAULT NULL,
	`status` INT,
	`created` DATETIME DEFAULT NULL
) DEFAULT CHARSET=utf8;

CREATE TABLE IF NOT EXISTS `Sets` (
	`id` INT unsigned NOT NULL AUTO_INCREMENT,
	`collection_id` INT unsigned NOT NULL,
	`no` VARCHAR(300) NOT NULL,
	`comments` VARCHAR(1000),
	`instructions` VARCHAR(200),
	`condition` INT,
	`name` VARCHAR(500),
	`category_id` INT,
	`year` VARCHAR(100),
	`weight_g` INT,
	`size` VARCHAR(200),
	`complete_part_count` INT unsigned,
	`complete_minifigs_count` INT,
	`price` DECIMAL(11),
	`status` INT,
	`thumbnail_url` VARCHAR(500) DEFAULT NULL,
	`image_url` VARCHAR(500) DEFAULT NULL,
	`created` DATETIME NOT NULL,
	PRIMARY KEY (`id`)
) DEFAULT CHARSET=utf8;

CREATE TABLE `Parts` (
	`id` INT unsigned NOT NULL AUTO_INCREMENT,
	`no` VARCHAR(100) NOT NULL,
	`name` VARCHAR(200) NOT NULL,
	`type` VARCHAR(50) NOT NULL,
	`category_id` INT unsigned NOT NULL,
	`year` VARCHAR(100),
	`weight_g` INT,
	`size` VARCHAR(200),
	`is_obsolete` BOOLEAN,
	`qty_avg_price_stock` DOUBLE unsigned,
	`qty_avg_price_sold` DOUBLE unsigned,
	`image_url` VARCHAR(200) ,
	`thumbnail_url` VARCHAR(500),
	`status` INT NOT NULL,
	`created` DATETIME NOT NULL,
	PRIMARY KEY (`id`),
	CONSTRAINT `part` UNIQUE KEY  (`no`)
) DEFAULT CHARSET=utf8;

CREATE TABLE `SubSets` (
	`id` INT unsigned NOT NULL AUTO_INCREMENT,
	`setNo` INT NOT NULL,
	`match_no` INT unsigned NOT NULL,
	`no` VARCHAR(100) NOT NULL,
	`name` VARCHAR(200) NOT NULL,
	`type` VARCHAR(50) NOT NULL,
	`category_id` INT unsigned NOT NULL,
	`color_id` INT unsigned NOT NULL,
	`quantity` INT unsigned NOT NULL,
	`extra_quantity` INT unsigned NOT NULL,
	`is_alternate` BOOLEAN NOT NULL,
	`is_counterpart` BOOLEAN NOT NULL,
	`created` DATETIME NOT NULL,
	PRIMARY KEY (`id`),
	CONSTRAINT  `subset` UNIQUE (`setNo`, `no`,`color_id`, `is_counterpart`)
) DEFAULT CHARSET=utf8;

CREATE TABLE `Prices` (
	`id` INT unsigned NOT NULL AUTO_INCREMENT,
	`no` VARCHAR(100) NOT NULL,
	`type` VARCHAR(50) NOT NULL,
	`new_or_used` VARCHAR(1) NOT NULL,
	`color_id` INT unsigned NOT NULL,
	`country_code` VARCHAR(10) NOT NULL,
	`guide_type` VARCHAR(10) NOT NULL,
	`currency_code` VARCHAR(10) NOT NULL,
	`min_price` DOUBLE unsigned NOT NULL,
	`max_price` DOUBLE unsigned NOT NULL,
	`avg_price` DOUBLE unsigned NOT NULL,
	`qty_avg_price` DOUBLE unsigned NOT NULL,
	`unit_quantity` INT unsigned NOT NULL,
	`total_quantity` INT unsigned NOT NULL,
	`created` DATETIME NOT NULL,
	PRIMARY KEY (`id`),
	CONSTRAINT  `price` UNIQUE (`no`, `type`, `new_or_used`, `color_id`, `country_code`, `guide_type`, `currency_code`)
) DEFAULT CHARSET=utf8;

CREATE TABLE `Status` (
	`id` INT NOT NULL,
	`name` VARCHAR(100) NOT NULL,
	`description` VARCHAR(500),
	PRIMARY KEY (`id`)
) DEFAULT CHARSET=utf8;

CREATE TABLE `Photos` (
	`id` INT unsigned NOT NULL AUTO_INCREMENT,
	`collection_id` INT unsigned NOT NULL,
	`path` VARCHAR(300) NOT NULL,
	`created` DATETIME NOT NULL,
	PRIMARY KEY (`id`)
) DEFAULT CHARSET=utf8;

